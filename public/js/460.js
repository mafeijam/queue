"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[460],{617:(e,t,l)=>{l.d(t,{hh:()=>a,LO:()=>n,dg:()=>o,Mo:()=>c,b_:()=>i,Y0:()=>r,lo:()=>s});var a=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.available)?"-":"".concat(t).concat(e[t].available)},n=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.waiting)?"-":"".concat(t).concat(e[t].waiting)},o=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)?[]:e[t].details},c=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)},i=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.waiting)||e[t].waiting===e[t].available},r=function(e,t,l){var a;return void 0!==e[t]&&null!==(null===(a=e[t])||void 0===a?void 0:a.available)&&e[t].available===l},s=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)?"-":e[t].details[e[t].details.length-1].updated_at}},9460:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Z});var a=l(5166),n={class:"q-gutter-md"},o={class:"flex justify-between"},c=(0,a.createElementVNode)("div",{class:"text-h4 text-teal"},"電子排隊系統",-1),i={class:"flex"},r=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7 q-mr-lg"},"店舖名稱",-1),s={class:"text-h6 text-indigo-6 text-weight-bold"},d={class:"row"},u={class:"col-6 flex justify-center items-center"},v={class:"q-px-xl q-py-lg bg-orange-1 text-center self-start"},g=(0,a.createElementVNode)("div",{class:"text-h5 text-grey-7"},"最新叫號",-1),x={class:"text-h1 text-orange-8 text-weight-bold"},m={class:"col-6 flex column items-center"},p=["src"],h=(0,a.createElementVNode)("div",{class:"text-h6 text-pink"},"請以手機掃瞄QR CODE 取票",-1),N={class:"text-body2 text-grey-7"},V=(0,a.createTextVNode)("或手動輸入網址 "),f={class:"text-weight-bold text-grey-8"},E={class:"row q-col-gutter-lg text-subtitle1"},y={class:"col-3 text-center"},b={class:"q-pa-lg bg-red-1"},q=(0,a.createElementVNode)("div",{class:"text-h5 text-weight-bold text-red-8 q-mb-lg"},"A 1 ~ 2人",-1),w=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新入座票號",-1),k={class:"text-h3 text-grey-9"},C=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新獲取票號",-1),D={class:"text-h3 text-grey-9"},S={class:"col-3 text-center"},_={class:"q-pa-lg bg-green-1"},T=(0,a.createElementVNode)("div",{class:"text-h5 text-weight-bold text-green-8 q-mb-lg"},"B 3 ~ 4人",-1),A=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新入座票號",-1),j={class:"text-h3 text-grey-9"},B=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新獲取票號",-1),O={class:"text-h3 text-grey-9"},W={class:"col-3 text-center"},$={class:"q-pa-lg bg-blue-1"},Q=(0,a.createElementVNode)("div",{class:"text-h5 text-weight-bold text-blue-8 q-mb-lg"},"C 5 ~ 6人",-1),I=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新入座票號",-1),L={class:"text-h3 text-grey-9"},R=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新獲取票號",-1),F={class:"text-h3 text-grey-9"},H={class:"col-3 text-center"},M={class:"q-pa-lg bg-yellow-1"},P=(0,a.createElementVNode)("div",{class:"text-h5 text-weight-bold text-yellow-8 q-mb-lg"},"D 7人或以上",-1),U=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新入座票號",-1),Y={class:"text-h3 text-grey-9"},z=(0,a.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新獲取票號",-1),G={class:"text-h3 text-grey-9"};var J=l(617),K=l(9680);const X={props:{shop:Object,queues:Object,qr:String,short:String,lastCall:Object},setup:function(e,t){(0,t.expose)();var l=e,n=(0,a.ref)(null),o=(0,a.ref)(null),c=(0,a.computed)((function(){return null===n.value?l.queues:n.value})),i=(0,a.computed)((function(){return null===o.value?l.lastCall?"".concat(l.lastCall.ticket_type).concat(l.lastCall.ticket_number):"-":"".concat(o.value.ticket_type).concat(o.value.ticket_number)})),r=new Audio("https://q.jamwong.me/mixkit-happy-bells-notification-937.wav"),s=function(e){r.play(),n.value=e.queues,o.value=e.latest};window.Echo.channel("queue.".concat(l.shop.uuid)).listen("QueueCreated",(function(e){return n.value=e.queues})).listen("QueueUpdated",s).listen("QueueReset",(function(){n.value=null,K.Inertia.reload()}));var d={props:l,queueEvent:n,lastTicket:o,queueData:c,lastTicketDisplay:i,audio:r,onEvent:s,computed:a.computed,ref:a.ref,showTicketAvailable:J.hh,showTicketWaiting:J.LO,Inertia:K.Inertia};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d},render:function(e,t,l,J,K,X){var Z=(0,a.resolveComponent)("q-btn"),ee=(0,a.resolveComponent)("q-card-section"),te=(0,a.resolveComponent)("q-separator"),le=(0,a.resolveComponent)("q-card"),ae=(0,a.resolveComponent)("q-page"),ne=(0,a.resolveComponent)("q-page-container"),oe=(0,a.resolveComponent)("q-layout");return(0,a.openBlock)(),(0,a.createBlock)(oe,{view:"hHh lpr fFf"},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(ne,{class:"bg-grey-1"},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(ae,{class:"flex items-center",padding:e.$q.platform.is.desktop,style:{"max-width":"1200px",margin:"auto"}},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(le,{class:"shadow-1 full-width",flat:e.$q.platform.is.mobile},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(ee,{class:"q-pa-lg"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",o,[c,e.$q.platform.is.desktop?((0,a.openBlock)(),(0,a.createBlock)(Z,{key:0,onClick:t[0]||(t[0]=function(t){return e.$q.fullscreen.toggle()}),icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",round:"",flat:"",color:"blue"},null,8,["icon"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",i,[r,(0,a.createElementVNode)("div",s,(0,a.toDisplayString)(l.shop.name),1)]),(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",v,[g,(0,a.createElementVNode)("div",x,(0,a.toDisplayString)(J.lastTicketDisplay),1)])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("img",{src:l.qr},null,8,p),h,(0,a.createElementVNode)("div",N,[V,(0,a.createElementVNode)("span",f,(0,a.toDisplayString)(l.short),1)])])])])]})),_:1}),(0,a.createVNode)(ee,{class:"q-pt-none q-pb-lg q-px-lg"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",b,[q,(0,a.createVNode)(te,{spaced:"lg"}),w,(0,a.createElementVNode)("div",k,(0,a.toDisplayString)(J.showTicketAvailable(J.queueData,"A")),1),(0,a.createVNode)(te,{spaced:"lg"}),C,(0,a.createElementVNode)("div",D,(0,a.toDisplayString)(J.showTicketWaiting(J.queueData,"A")),1)])]),(0,a.createElementVNode)("div",S,[(0,a.createElementVNode)("div",_,[T,(0,a.createVNode)(te,{spaced:"lg"}),A,(0,a.createElementVNode)("div",j,(0,a.toDisplayString)(J.showTicketAvailable(J.queueData,"B")),1),(0,a.createVNode)(te,{spaced:"lg"}),B,(0,a.createElementVNode)("div",O,(0,a.toDisplayString)(J.showTicketWaiting(J.queueData,"B")),1)])]),(0,a.createElementVNode)("div",W,[(0,a.createElementVNode)("div",$,[Q,(0,a.createVNode)(te,{spaced:"lg"}),I,(0,a.createElementVNode)("div",L,(0,a.toDisplayString)(J.showTicketAvailable(J.queueData,"C")),1),(0,a.createVNode)(te,{spaced:"lg"}),R,(0,a.createElementVNode)("div",F,(0,a.toDisplayString)(J.showTicketWaiting(J.queueData,"C")),1)])]),(0,a.createElementVNode)("div",H,[(0,a.createElementVNode)("div",M,[P,(0,a.createVNode)(te,{spaced:"lg"}),U,(0,a.createElementVNode)("div",Y,(0,a.toDisplayString)(J.showTicketAvailable(J.queueData,"D")),1),(0,a.createVNode)(te,{spaced:"lg"}),z,(0,a.createElementVNode)("div",G,(0,a.toDisplayString)(J.showTicketWaiting(J.queueData,"D")),1)])])])]})),_:1})]})),_:1},8,["flat"])]})),_:1},8,["padding"])]})),_:1})]})),_:1})}},Z=X}}]);
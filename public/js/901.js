"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[901],{617:(e,t,l)=>{l.d(t,{hh:()=>n,LO:()=>a,dg:()=>o,Mo:()=>i,b_:()=>u,Y0:()=>r,lo:()=>c});var n=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.available)?"-":"".concat(t).concat(e[t].available)},a=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.waiting)?"-":"".concat(t).concat(e[t].waiting)},o=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)?[]:e[t].details},i=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)},u=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.waiting)||e[t].waiting===e[t].available},r=function(e,t,l){var n;return void 0!==e[t]&&null!==(null===(n=e[t])||void 0===n?void 0:n.available)&&e[t].available===l},c=function(e,t){var l;return void 0===e[t]||null===(null===(l=e[t])||void 0===l?void 0:l.details)?"-":e[t].details[e[t].details.length-1].updated_at}},901:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var n=l(5166),a={class:"q-gutter-md"},o=(0,n.createElementVNode)("div",{class:"text-h4 text-teal"},"電子排隊系統",-1),i={class:"flex"},u=(0,n.createElementVNode)("div",{class:"text-h5 text-grey-7 q-mr-lg"},"店舖名稱",-1),r={class:"text-h5 text-indigo-7"},c={key:0,class:"bg-purple-1 q-pa-md text-subtitle1 text-purple-8"},d=(0,n.createElementVNode)("span",null,"到你啦！",-1),s=(0,n.createElementVNode)("div",{class:"text-h6 text-grey-7"},"你的票號",-1),v={class:"text-body2 text-grey-7"},p=(0,n.createElementVNode)("div",{class:"text-h6 text-grey-7"},"最新叫號",-1),m={class:"text-h2 flex justify-center q-pa-lg bg-orange-1 text-orange-8 text-weight-bold"},g={class:"text-body2 text-grey-7"};var f=l(617);const x={props:{queue:Object,queues:Object},setup:function(e,t){(0,t.expose)();var l=e,a=(0,n.ref)(null),o=(0,n.computed)((function(){return null===a.value?l.queues:a.value})),i=(0,n.computed)((function(){return(0,f.Y0)(o.value,l.queue.ticket_type,l.queue.ticket_number)})),u=new Audio("https://q.jamwong.me/mixkit-happy-bells-notification-937.wav"),r=function(e){i&&u.play(),a.value=e.queues};window.Echo.channel("queue.".concat(l.queue.shop.uuid)).listen("QueueUpdated",r);var c={props:l,queueEvent:a,queueData:o,isMineBool:i,colors:{A:"bg-red-1 text-red-8",B:"bg-green-1 text-green-8",C:"bg-blue-1 text-blue-8",D:"bg-yellow-1 text-yellow-8"},audio:u,onEvent:r,computed:n.computed,ref:n.ref,showTicketAvailable:f.hh,isMine:f.Y0,lastCallTime:f.lo};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c},render:function(e,t,l,f,x,h){var q=(0,n.resolveComponent)("q-icon"),b=(0,n.resolveComponent)("q-card-section"),y=(0,n.resolveComponent)("q-card"),w=(0,n.resolveComponent)("q-page-container"),k=(0,n.resolveComponent)("q-layout");return(0,n.openBlock)(),(0,n.createBlock)(k,{view:"hHh lpr fFf"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(w,{class:"bg-grey-1"},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(y,{class:"window-height",style:{"max-width":"800px",margin:"auto"},flat:""},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(b,{class:"q-pa-md"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",a,[o,(0,n.createElementVNode)("div",i,[u,(0,n.createElementVNode)("div",r,(0,n.toDisplayString)(l.queue.shop.name),1)]),f.isMineBool?((0,n.openBlock)(),(0,n.createElementBlock)("div",c,[(0,n.createVNode)(q,{class:"q-mr-md",name:"announcement",size:"2rem"}),d])):(0,n.createCommentVNode)("",!0),s,(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["text-h2 flex justify-center q-pa-lg text-weight-bold",f.colors[l.queue.ticket_type]])},(0,n.toDisplayString)(l.queue.ticket_type)+(0,n.toDisplayString)(l.queue.ticket_number),3),(0,n.createElementVNode)("div",v,"取票時間 "+(0,n.toDisplayString)(l.queue.created_at),1),p,(0,n.createElementVNode)("div",m,(0,n.toDisplayString)(f.showTicketAvailable(f.queueData,l.queue.ticket_type)),1),(0,n.createElementVNode)("div",g,"叫號時間 "+(0,n.toDisplayString)(f.lastCallTime(f.queueData,l.queue.ticket_type)),1)])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}},h=x}}]);